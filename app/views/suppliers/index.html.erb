<div class="row">
  <div class="col-md-6">
    <a class="btn btn-success" data-toggle="modal" data-backdrop="static" href="#add-modal"><i class="fa fa-plus"></i> Add Supplier</a>
  </div>
</div>

<div class="row">
  <% if !flash[:notice].blank? %>
      <div class="alert alert-success alert-dismissable">
        <a class="close" data-dismiss="alert">x</a>
        <i class="fa fa-info-circle"></i> <%= flash[:notice]  %>
      </div>
  <% end %>
</div>

<div class="row">
  <div class="col-md-12">
    <div class="w-box">
      <div class="w-box-header">
        <h3>Suppliers List</h3>
      </div>
      <div class="w-box-content">
        <div class="row">
          &nbsp;
        </div>
        <table class="table table-striped table-bordered table-hover" id="data-table">
          <thead>
          <tr>
            <th>ID</th>
            <th>Image</th>
            <th>Supplier Name</th>
            <th>Contact Person</th>
            <th>Phone</th>
            <th>Email</th>
            <th class="text-center" width="20%">Action</th>
          </tr>
          </thead>
          <tbody>
          <% i = 0 %>
          <% @suppliers.each do |supplier| %>
          <% i = i+1 %>
              <tr>
                <td><%= i  %></td>
                <td><%= image_tag("uploads/suppliers/#{supplier.id}/thumb/#{supplier.image_file_name}")  %></td>
                <td><%= supplier.supplier_name  %></td>
                <td><%= supplier.contact_person  %></td>
                <td><%= supplier.contact_number  %></td>
                <td><%= supplier.email  %></td>
                <td class="text-center">
                  <a class="btn btn-primary"><i class="fa fa-eye"></i></a>
                  <a class="btn btn-warning"><i class="fa fa-edit"></i></a>
                  <a class="btn btn-danger"><i class="fa fa-times"></i></a>
                </td>
              </tr>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="add-modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3 class="modal-title">Add Supplier</h3>
      </div>
      <div class="modal-body">
        <%= form_for @supplier, url: {action: "create"}, html: {multipart: true} do |f| %>
          <div class="formSep">
            <div class="row">
              <div class="col-sm-12">
                <label>Supplier Name </label>
                <%= f.text_field :supplier_name, class: "form-control", placeholder: "Supplier Name"  %>
              </div>
            </div>
          </div>
          <div class="formSep">
            <div class="row">
              <div class="col-sm-12">
                <label>Contact Person </label>
                <%= f.text_field :contact_person, class: "form-control", placeholder: "Contact Person"  %>
              </div>
            </div>
          </div>
          <div class="formSep">
            <div class="row">
              <div class="col-sm-6">
                <label>Contact No. </label>
                <%= f.text_field :contact_number, class: "form-control", placeholder: "Contact No"  %>
              </div>
              <div class="col-sm-6">
                <label>Email Address </label>
                <%= f.text_field :email, class: "form-control", placeholder: "Email"  %>
              </div>
            </div>
          </div>
          <div class="formSep">
            <div class="row">
              <div class="col-sm-12">
                <label>Address </label>
                <%= f.text_field :address_line_1, class: "form-control", placeholder: "Address Line 1"  %>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <%= f.text_field :address_line_2, class: "form-control", placeholder: "Address Line 2"  %>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <%= f.text_field :town, class: "form-control", placeholder: "Town"  %>
              </div>
              <div class="col-sm-6">
                <%= f.text_field :city, class: "form-control", placeholder: "City"  %>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <%= f.text_field :post_code, class: "form-control", placeholder: "Post Code"  %>
              </div>
            </div>
          </div>
          <div class="formSep">
            <div class="row">
              <div class="col-sm-12">
                <label>Description </label>
                <%= f.text_area :description, class: "form-control", rows: "5", placeholder: "Description"  %>
              </div>
            </div>
          </div>
          <div class="formSep">
              <div class="row">
                <div class="col-sm-12">
                  <label>Image </label>
                  <%= f.file_field :image, class: "form-control file-upload" %>
                </div>
              </div>
            </div>
          <div class="modal-footer">
            <a class="btn btn-danger" data-dismiss="modal">Cancel</a>
            <%= submit_tag "Add Supplier", class: "btn btn-success" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>